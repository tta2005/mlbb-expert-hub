<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI အဆင့်မြင့် ဗေဒင်ဆရာကြီး</title>
    <style>
        :root { --gold: #ffd700; --dark: #2c0101; --cream: #fff5e1; }
        body { font-family: 'Pyidaungsu', sans-serif; background: #1a1a1a; color: var(--cream); padding: 20px; }
        .app-card { max-width: 600px; margin: auto; background: var(--dark); border: 3px solid var(--gold); border-radius: 20px; padding: 25px; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        h2 { text-align: center; color: var(--gold); margin-bottom: 25px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; color: var(--gold); font-weight: bold; }
        input, select, textarea { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid var(--gold); background: #fdfdfd; color: #333; box-sizing: border-box; }
        textarea { height: 120px; font-size: 16px; line-height: 1.6; }
        button { width: 100%; padding: 15px; background: var(--gold); color: var(--dark); border: none; border-radius: 12px; font-weight: bold; font-size: 18px; cursor: pointer; transition: 0.3s; }
        button:hover { background: #fff; transform: translateY(-2px); }
        
        #output { margin-top: 30px; display: none; background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px; border-left: 5px solid var(--gold); }
        .result-text { line-height: 2; white-space: pre-line; font-size: 17px; }
        .grid-view { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; width: 180px; margin: 15px auto; }
        .cell { background: var(--cream); color: #000; padding: 8px; text-align: center; border-radius: 4px; font-weight: bold; font-size: 12px; }
        .active-cell { background: var(--gold); color: #800000; box-shadow: 0 0 10px var(--gold); }
    </style>
</head>
<body>

<div class="app-card">
    <h2>🔮 AI အဆင့်မြင့် ဗေဒင်</h2>
    
    <div class="form-group">
        <label>အမည်</label>
        <input type="text" id="userName" placeholder="ဥပမာ - မောင်လှ">
    </div>

    <div style="display: flex; gap: 10px;" class="form-group">
        <div style="flex: 1;">
            <label>မွေးသက္ကရာဇ် (ခရစ်နှစ်/မြန်မာနှစ်)</label>
            <input type="number" id="birthYear" placeholder="1386 သို့မဟုတ် 2024">
        </div>
        <div style="flex: 1;">
            <label>မွေးနေ့</label>
            <select id="birthDay">
                <option value="0">တနင်္ဂနွေ</option><option value="1">တနင်္လာ</option><option value="2">အင်္ဂါ</option>
                <option value="3">ဗုဒ္ဓဟူး</option><option value="4">ကြာသပတေး</option><option value="5">သောကြာ</option><option value="6">စနေ</option>
            </select>
        </div>
    </div>

    <div class="form-group">
        <label>မေးမြန်းလိုသည့် အကြောင်းအရာ</label>
        <textarea id="userQuestion" placeholder="ဥပမာ- ကျွန်တော် ငယ်ဘဝက ဘယ်လိုလဲ? အခု အလုပ်သစ်လုပ်ဖို့ ကြံနေတာ အဆင်ပြေမလား? ယတြာလေးလည်း သိချင်ပါတယ်။"></textarea>
    </div>

    <button onclick="aiFortuneTeller()">ကံကြမ္မာကို တွက်ချက်မည်</button>

    <div id="output">
        <div id="mGrid" class="grid-view"></div>
        <div id="resultContent" class="result-text"></div>
    </div>
</div>

<script>
function aiFortuneTeller() {
    const name = document.getElementById('userName').value || "အမည်မသိသူ";
    let year = parseInt(document.getElementById('birthYear').value);
    const day = parseInt(document.getElementById('birthDay').value);
    const question = document.getElementById('userQuestion').value;

    if (!year || !question) return alert("အချက်အလက်များကို ဖြည့်စွက်ပါ");

    // Mahabote Calculation
    if (year > 1600) year -= 638;
    const remainder = year % 7;
    const houses = ["ဘင်္ဂ", "အထွန်း", "ရာဇ", "အဓိပတိ", "မရဏ", "သိုက်", "ပုတိ"];
    const myHouseIdx = (day + (7 - remainder)) % 7;
    const myHouse = houses[myHouseIdx];

    // Response Generation Logic
    let finalResponse = `မင်္ဂလာပါ ${name}။ မင်းရဲ့ မဟာဘုတ်ဇာတာခွင်ကို ဆရာကြီး အသေးစိတ် ကြည့်ရှုပေးပါ့မယ်။\n\n`;

    // 1. ငယ်ဘဝအကြောင်း (Childhood Analysis)
    if (question.includes("ငယ်") || question.includes("အတိတ်")) {
        let childhood = "";
        if (myHouse === "ဘင်္ဂ" || myHouse === "မရဏ") {
            childhood = "ငယ်ဘဝမှာ ကျန်းမာရေး အနည်းငယ် ချို့တဲ့တာ ဒါမှမဟုတ် မိသားစုနဲ့ ခွဲခွာရတာမျိုး ရှိတတ်ပါတယ်။ စိတ်ပင်ပန်းမှု အချို့ ကြုံခဲ့ရပေမယ့် အဲ့ဒါက မင်းကို ရင့်ကျက်စေခဲ့တယ်။";
        } else {
            childhood = "ငယ်ဘဝမှာ လူချစ်လူခင် ပေါများပြီး ကံကောင်းမှု အချို့ရှိခဲ့ပါတယ်။ ဒါပေမယ့် စိတ်ဆန္ဒ စောတတ်တဲ့ အကျင့်ကြောင့် အမှားအယွင်း အချို့တော့ ရှိခဲ့နိုင်ပါတယ်။";
        }
        finalResponse += `🟢 **ငယ်ဘဝအခြေအနေ:**\n ${childhood}\n\n`;
    }

    // 2. အလုပ်အကိုင် (Career Advice)
    if (question.includes("အလုပ်") || question.includes("လုပ်သင့်")) {
        let career = "";
        if (myHouse === "အထွန်း" || myHouse === "ရာဇ" || myHouse === "အဓိပတိ") {
            career = "မင်းကြံစည်နေတဲ့ အလုပ်က မင်းရဲ့ ကံဇာတာနဲ့ အရမ်းကို ကိုက်ညီမှုရှိတယ်။ အရှိန်အဟုန်နဲ့ လုပ်ကိုင်ဖို့ အချိန်ကောင်းဖြစ်ပြီး အကျိုးအမြတ် အောင်မြင်မှု ရဖို့ ၈၀% သေချာပါတယ်။";
        } else {
            career = "လက်ရှိမှာ အပြောင်းအလဲထက် ရှိတာကို ထိန်းသိမ်းတာ ပိုကောင်းပါလိမ့်မယ်။ အလုပ်သစ်လုပ်မယ်ဆိုရင်တောင် လူယုံမမှားဖို့နဲ့ အစီအစဉ်ကို အသေအချာ ပြန်စစ်ဖို့ လိုအပ်ပါတယ်။";
        }
        finalResponse += `🔵 **အလုပ်အကိုင် အကြံပြုချက်:**\n ${career}\n\n`;
    }

    // 3. ယတြာ (Remedy)
    if (question.includes("ယတြာ") || question.includes("ကံညံ့")) {
        const yatraList = [
            "အုန်းညွန့် ၆ ညွန့်ကို အိမ်က ဘုရားမှာ ကပ်လှူပြီး ကံပွင့်ပါစေလို့ ဆုတောင်းပါ။",
            "တနင်္လာနေ့မှာ နွမ်းပါးသူကို အချိုရည် လှူဒါန်းပေးပါ။",
            "အင်္ဂါနေ့မှာ ဘုရားဖူးသွားပြီး သပြေပန်း လှူပါ။",
            "ဗုဒ္ဓဟူးနေ့မှာ တိရစ္ဆာန်တွေကို အစာကျွေးပါ။",
            "ကြာသပတေးနေ့မှာ ဆရာတော်ကြီးတွေကို ဆွမ်းကပ်လှူပါ။",
            "သောကြာနေ့မှာ ပန်းရောင် အဝတ်အစား ဝတ်ပြီး ဒါနပြုပါ။",
            "စနေနေ့မှာ ထီး ဒါမှမဟုတ် ဖိနပ် လှူဒါန်းပေးပါ။"
        ];
        finalResponse += `🟡 **ယတြာ:**\n မင်းအတွက် အကောင်းဆုံး ယတြာကတော့ - ${yatraList[day]}\n\n`;
    }

    // Fallback if question is too general
    if (finalResponse.length < 150) {
        finalResponse += `ခြုံငုံကြည့်ရရင် မင်းက ${myHouse} ဌာနမှာ ဖွားမြင်သူဖြစ်တဲ့အတွက် မင်းရဲ့ ဘဝမှာ ကြိုးစားအားထုတ်မှုကပဲ မင်းရဲ့ ကံကြမ္မာကို ပြောင်းလဲပေးနိုင်မှာပါ။ ဆရာကြီးကတော့ မင်းကို ယုံကြည်ပါတယ်။`;
    }

    // Grid Display
    const order = [(1+remainder)%7, (4+remainder)%7, (0+remainder)%7, (5+remainder)%7, (2+remainder)%7, (6+remainder)%7, "", (3+remainder)%7, ""];
    document.getElementById('mGrid').innerHTML = order.map(v => 
        v==="" ? `<div></div>` : `<div class="cell ${houses[v]===myHouse?'active-cell':''}">${houses[v]}</div>`
    ).join('');

    document.getElementById('resultContent').innerText = finalResponse;
    document.getElementById('output').style.display = 'block';
}
</script>

</body>
</html>
